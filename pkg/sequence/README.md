# Sequence diagrams

The workflow for rendering sequence diagrams involves the steps of laying, measuring, completion and parsing from last to first. Laying step needs two things. One is the layout rules. Those are the set of constraints that goes like equal spacing between the center of lifelines, wrapping long lines etc. The other need is content sizes of each individual item that is needed to be drawn on canvas. This process measures the sizes of items without the layout information, the information of what item goes to where on the canvas. Which only requires the hierarchy of items to be known. As such the partipant items usually stylized as a line of text centered within a rounded rectangle with minimum of 10px padding. So the box's min content size will be `2 * 10px` and the min content size of the text inside. Measuring step requires all nodes of document to be explicit. So, there will be no need for going backwards when an undeclared partipant mentioned in a message. The completion step is resposible from constructing the document reference free of implicit details. The completion process requires the parsing to be done already, which is what the parser package does.

Packages `ast`, `doc`, `measured` and `object` provides the different kind of nodes types to be given as input of the next step in the process each represents the same document in different steps of workflow. Parsing user input yields `ast` nodes. Completing implict lifelines yields `doc` nodes. Calculating the min and max content sizes yields `measured` nodes. Calculating the coordinates yields `object` nodes. Whole process is for generating a raster image. Thus the content sizes assumes the font renderer the Diagramer uses.
